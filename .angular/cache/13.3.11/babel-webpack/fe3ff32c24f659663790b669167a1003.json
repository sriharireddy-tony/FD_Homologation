{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\SVN Projects\\\\FD_Homologation_LatesT\\\\FD_Homologation\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\nimport { Component } from '@angular/core';\nimport { ConfirmationService, MessageService } from 'primeng/api';\nlet ReportConfigComponent = class ReportConfigComponent {\n  constructor(service, confirmationService, router, elementRef, renderer) {\n    this.service = service;\n    this.confirmationService = confirmationService;\n    this.router = router;\n    this.elementRef = elementRef;\n    this.renderer = renderer;\n    this.namespace = \"http://schemas.cordys.com/FD_HL_WSPackage\";\n    this.tableArr = [];\n    this.reportSelectedArr = [];\n    this.docNameDropArr = [];\n    this.reportName = '';\n    this.selectedRepObj = {};\n    this.REPORT_CONFIG_REF_ID = '';\n    this.call_modal = true;\n    this.data_send = {};\n    this.repConfigparam = {};\n    this.AAHPopup = 'none';\n    this.Version = '';\n    this.Remarks = '';\n    this.REPORT_REF_ID = '';\n    this.reportStatus = '';\n    this.clickView = false;\n    this.isValidReviseStr = '';\n    this.reviseSubmitted = false;\n    this.subscription = this.service.createPageEvents.subscribe(call => {\n      if (call == 'Save') {\n        this.openRevision();\n      } else if (call == 'SaveasDraft') {\n        this.saveReportConfig('');\n      } else if (call == 'Revice') {\n        this.revisionClick();\n      } else if (call == 'AddNewLine') {\n        this.addNewLine();\n      }\n    });\n  }\n\n  ngOnInit() {\n    // this.getData();\n    this.GetFDHLReportNames();\n    const tableContainer = this.elementRef.nativeElement.querySelector('.scrolling');\n    tableContainer.addEventListener('dragover', this.handleDragOver.bind(this));\n  }\n\n  handleDragOver(event) {\n    const tableContainer = this.elementRef.nativeElement.querySelector('.scrolling');\n    const rect = tableContainer.getBoundingClientRect();\n    const scrollThreshold = 40; // Adjust this value to change the scroll sensitivity\n\n    if (event.clientY < rect.top + scrollThreshold) {\n      tableContainer.scrollTop -= scrollThreshold;\n    } else if (event.clientY > rect.bottom - scrollThreshold) {\n      tableContainer.scrollTop += scrollThreshold;\n    }\n  }\n\n  ngOnDestroy() {\n    var _a;\n\n    (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n  }\n\n  openRevision() {\n    this.AAHPopup = 'block';\n    const body = document.querySelector(\"body\");\n    body.style.overflow = \"hidden\";\n  }\n\n  closeRevision() {\n    this.AAHPopup = 'none';\n    const body = document.querySelector(\"body\");\n    body.style.overflow = \"auto\";\n  }\n\n  isValidRevise() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let obj = {\n        REPORT_REF_ID: _this.REPORT_REF_ID,\n        REPORT_VERSION: _this.Version\n      };\n      yield _this.service.invokeService(\"IsFDHLReportVersionAvailable\", obj, _this.namespace, true, false).then(res => {\n        _this.isValidReviseStr = res[0].IsFDHLReportVersionAvailable;\n      });\n    })();\n  }\n\n  callVersion() {\n    this.reviseSubmitted = false;\n  }\n\n  revisionSubmit() {\n    this.saveReportConfig('flag').then(data => {\n      this.isValidRevise();\n      this.reviseSubmitted = true;\n      this.call_modal = false;\n      setTimeout(() => {\n        if (this.isValidReviseStr == 'false') {\n          let param = {};\n\n          if (this.datavalidate(this.REPORT_REF_ID) == '') {\n            param = {\n              'tuple': {\n                'new': {\n                  'FD_HL_REPORT_M': {\n                    'REPORT_VERSION': this.Version,\n                    'REMARKS': this.Remarks,\n                    'STATUS': 1\n                  }\n                }\n              }\n            };\n          } else {\n            param = {\n              'tuple': {\n                'old': {\n                  'FD_HL_REPORT_M': {\n                    'REPORT_REF_ID': this.REPORT_REF_ID\n                  }\n                },\n                'new': {\n                  'FD_HL_REPORT_M': {\n                    'REPORT_VERSION': this.Version,\n                    'REMARKS': this.Remarks,\n                    'STATUS': 1\n                  }\n                }\n              }\n            };\n          }\n\n          this.service.invokeService(\"UpdateFdHlReportM\", param, this.namespace, true, false).then(res => {\n            this.reportStatus = res[0].STATUS;\n            this.service.repConfEventCall.next(this.REPORT_REF_ID + \",\" + 1);\n            this.getData();\n            setTimeout(() => {\n              this.call_modal = true;\n              this.data_send = {\n                'text': 'Data Saved Succssfully',\n                active: this.call_modal\n              };\n            }, 0);\n            this.closeRevision();\n          });\n        }\n      }, 500);\n    });\n  }\n\n  revisionClick() {\n    this.call_modal = false;\n    let param = {};\n\n    if (this.datavalidate(this.REPORT_REF_ID) != '') {\n      param = {\n        'tuple': {\n          'old': {\n            'FD_HL_REPORT_M': {\n              'REPORT_REF_ID': this.REPORT_REF_ID\n            }\n          },\n          'new': {\n            'FD_HL_REPORT_M': {\n              'STATUS': 0\n            }\n          }\n        }\n      };\n    }\n\n    this.service.invokeService(\"UpdateFdHlReportM\", param, this.namespace, true, false).then(res => {\n      this.reportStatus = res[0].STATUS;\n      this.getData();\n      this.service.repConfEventCall.next(this.REPORT_REF_ID + \",\" + 0);\n      this.clickedRow = null;\n      this.revisionClear();\n      setTimeout(() => {\n        this.call_modal = true;\n        this.data_send = {\n          'text': 'Revision Data Saved Succssfully',\n          active: this.call_modal\n        };\n      }, 0);\n    });\n  }\n\n  revisionClear() {\n    this.Version = '';\n    this.Remarks = '';\n    this.reviseSubmitted = false;\n  }\n\n  isDraggingEnabled(obj) {\n    if (this.reportStatus == '1') {\n      return this.datavalidate(obj.REPORT_CONFIG_REF_ID) == '' ? false : true;\n    } else {\n      return this.datavalidate(obj.REPORT_CONFIG_REF_ID) == '' ? true : false;\n    }\n  }\n\n  drop(e) {\n    this.reportSelectedArr = [];\n    moveItemInArray(this.tableArr, e.previousIndex, e.currentIndex);\n    this.tableArr.forEach(obj => {\n      if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '') {\n        this.reportSelectedArr.push(obj);\n      }\n    });\n  }\n\n  GetFDHLReportNames() {\n    this.service.invokeService(\"GetFDHLReportNames\", null, this.namespace, true, false).then(res => {\n      this.docNameDropArr = res;\n    });\n  }\n\n  clickToView(obj) {\n    this.tableArr = [];\n    this.clickView = true;\n    this.reportStatus = obj.STATUS;\n    this.reportName = obj.REPORT_NAME;\n    this.REPORT_REF_ID = obj.REPORT_REF_ID;\n    this.selectedRepObj = obj;\n    this.repConfigparam = {\n      REPORT_REF_ID: obj.REPORT_REF_ID,\n      REPORT_NAME: obj.REPORT_NAME\n    };\n    this.service.repConfEventCall.next(obj.REPORT_REF_ID + \",\" + this.reportStatus);\n    this.getData();\n  }\n\n  getData() {\n    this.reportSelectedArr = [];\n    this.service.invokeService(\"GetFdHlReportConfiguration\", this.repConfigparam, this.namespace, true, false).then(res => {\n      this.tableArr = res;\n\n      if (this.reportStatus == '1') {\n        this.tableArr = res.filter(item => this.datavalidate(item.REPORT_CONFIG_REF_ID) != '');\n        return;\n      }\n\n      res.forEach(obj => {\n        if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '') {\n          this.reportSelectedArr.push(obj);\n        }\n      });\n    });\n  }\n\n  back() {\n    this.clickView = false;\n    this.clickedRow = null;\n    this.service.repConfEventCall.next('' + \",\" + this.reportStatus);\n    this.service.addNewLineBtn.next('a');\n    this.GetFDHLReportNames();\n  }\n\n  reportSelected(obj) {\n    if (obj.isChecked) {\n      this.reportSelectedArr.push(obj);\n    } else {\n      this.reportSelectedArr.splice(this.reportSelectedArr.indexOf(obj), 1);\n    }\n  }\n\n  repRowClick(obj) {\n    if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '' && this.reportStatus == '0') {\n      this.clickedRow = this.tableArr.indexOf(obj);\n      this.service.addNewLineBtn.next(this.clickedRow);\n    }\n  }\n\n  addNewLine() {\n    let emptyObj = {\n      REPORT_ATTR_ID: '',\n      ATTR_REF_ID: '',\n      REPORT_ATTR_DESC: '',\n      REPORT_REF_ID: this.repConfigparam.REPORT_REF_ID,\n      REPORT_NAME: this.repConfigparam.REPORT_NAME,\n      REPORT_CONFIG_REF_ID: ''\n    }; // if (this.datavalidate(this.tableArr[this.clickedRow].REPORT_CONFIG_REF_ID) == '') {\n    //   this.service.addNewLineBtn.next('a');\n    //   this.clickedRow = null;\n    //   return;\n    // }\n\n    this.tableArr.splice(this.clickedRow + 1, 0, emptyObj);\n    this.reportSelectedArr.splice(this.clickedRow + 1, 0, emptyObj);\n    this.clickedRow = null;\n    this.service.addNewLineBtn.next('a');\n  }\n\n  saveReportConfig(arg) {\n    return new Promise((resolve, reject) => {\n      this.call_modal = false;\n      let ParamTuple = [];\n      var params = {};\n\n      for (var obj of this.reportSelectedArr) {\n        if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) == \"\") {\n          params = {\n            'new': {\n              'FD_HL_REPORT_CONFIG': {\n                'REPORT_ATTR_ID': obj.REPORT_ATTR_ID,\n                'ATTR_REF_ID': obj.ATTR_REF_ID,\n                'REPORT_ATTR_DESC': obj.REPORT_ATTR_DESC,\n                'IS_ACTIVE': 1,\n                'REPORT_REF_ID': this.selectedRepObj.REPORT_REF_ID,\n                'REPORT_NAME': this.selectedRepObj.REPORT_NAME,\n                'REPORT_ATTR_ORDER': this.reportSelectedArr.indexOf(obj)\n              }\n            }\n          };\n        } else {\n          params = {\n            'old': {\n              'FD_HL_REPORT_CONFIG': {\n                'REPORT_CONFIG_REF_ID': obj.REPORT_CONFIG_REF_ID\n              }\n            },\n            'new': {\n              'FD_HL_REPORT_CONFIG': {\n                'REPORT_ATTR_ID': obj.REPORT_ATTR_ID,\n                'ATTR_REF_ID': obj.ATTR_REF_ID,\n                'REPORT_ATTR_DESC': obj.REPORT_ATTR_DESC,\n                'IS_ACTIVE': 1,\n                'REPORT_REF_ID': this.selectedRepObj.REPORT_REF_ID,\n                'REPORT_NAME': this.selectedRepObj.REPORT_NAME,\n                'REPORT_ATTR_ORDER': this.reportSelectedArr.indexOf(obj)\n              }\n            }\n          };\n        }\n\n        ParamTuple.push(params);\n      }\n\n      var paramsAll = {\n        'tuple': ParamTuple\n      };\n      this.service.invokeService(\"UpdateFdHlReportConfig\", paramsAll, this.namespace, true, false).then(res => {\n        // this.REPORT_CONFIG_REF_ID = res[0].REPORT_CONFIG_REF_ID\n        this.reportSelectedArr = [];\n        this.clickedRow = null;\n        this.reportStatus = '0';\n        this.service.addNewLineBtn.next('a');\n        this.getData();\n\n        if (arg == '') {\n          setTimeout(() => {\n            this.call_modal = true;\n            this.data_send = {\n              'text': 'Data Saved Succssfully',\n              active: this.call_modal\n            };\n          }, 0);\n        }\n\n        resolve('Res success from saving');\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  deleteRepRow(obj) {\n    this.service.addNewLineBtn.next('a');\n    this.call_modal = false;\n\n    if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '') {\n      this.confirmationService.confirm({\n        message: 'Are you sure that you want to delete this Attribute?',\n        header: 'Confirmation',\n        icon: 'pi pi-exclamation-triangle',\n        accept: () => {\n          let dataObj = {\n            tuple: {\n              old: {\n                FD_HL_REPORT_CONFIG: {\n                  REPORT_CONFIG_REF_ID: obj.REPORT_CONFIG_REF_ID\n                }\n              }\n            }\n          };\n          this.service.invokeService(\"UpdateFdHlReportConfig\", dataObj, this.namespace, true, false).then(res => {\n            this.tableArr.splice(this.tableArr.indexOf(obj), 1);\n            this.reportSelectedArr.splice(this.reportSelectedArr.indexOf(obj), 1);\n            this.getData(); // setTimeout(() => {\n            //   this.call_modal = true;\n            //   this.data_send = { text: 'File Deleted Successfully!', active: this.call_modal };\n            // }, 0);\n          });\n        },\n        reject: () => {}\n      });\n    } else {\n      if (this.datavalidate(obj.ATTR_REF_ID) != '') {\n        this.confirmationService.confirm({\n          message: 'Are you sure that you want to delete this Attribute?',\n          header: 'Confirmation',\n          icon: 'pi pi-exclamation-triangle',\n          accept: () => {\n            let dataObj = {\n              tuple: {\n                old: {\n                  FD_HL_ATTRIBUTES_M: {\n                    ATTR_REF_ID: obj.ATTR_REF_ID\n                  }\n                }\n              }\n            };\n            this.service.invokeService(\"UpdateFdHlAttributesM\", dataObj, this.namespace, true, false).then(res => {\n              this.tableArr.splice(this.tableArr.indexOf(obj), 1); // setTimeout(() => {\n              //   this.call_modal = true;\n              //   this.data_send = { text: 'File Deleted Successfully!', active: this.call_modal };\n              // }, 0);\n            });\n          },\n          reject: () => {}\n        });\n      } else {\n        this.tableArr.splice(this.tableArr.indexOf(obj), 1);\n        this.reportSelectedArr.splice(this.reportSelectedArr.indexOf(obj), 1); // this.reportSelectedArr\n      }\n    }\n  }\n\n  disRepId(obj) {\n    let flag = false;\n\n    if (this.reportStatus == '1') {\n      flag = true;\n    } else {\n      if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) == '' && !obj.isChecked) {\n        flag = true;\n      }\n\n      if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '' && (obj.isChecked == undefined || obj.isChecked) && this.datavalidate(obj.REPORT_ATTR_DESC) != '') {\n        flag = false;\n      } else if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '' && obj.isChecked == undefined && this.datavalidate(obj.REPORT_ATTR_DESC) == '') {\n        flag = true;\n      }\n    }\n\n    return flag;\n  }\n\n  datavalidate(data) {\n    //debugger;\n    if (data != undefined && data != null && data != \"\") {\n      return data;\n    } else {\n      return \"\";\n    }\n  }\n\n};\nReportConfigComponent = __decorate([Component({\n  selector: 'app-report-config',\n  templateUrl: './report-config.component.html',\n  styleUrls: ['./report-config.component.css'],\n  providers: [ConfirmationService, MessageService]\n})], ReportConfigComponent);\nexport { ReportConfigComponent };","map":{"version":3,"sources":["D:/SVN Projects/FD_Homologation_LatesT/FD_Homologation/src/app/report-config/report-config.component.ts"],"names":["__decorate","moveItemInArray","Component","ConfirmationService","MessageService","ReportConfigComponent","constructor","service","confirmationService","router","elementRef","renderer","namespace","tableArr","reportSelectedArr","docNameDropArr","reportName","selectedRepObj","REPORT_CONFIG_REF_ID","call_modal","data_send","repConfigparam","AAHPopup","Version","Remarks","REPORT_REF_ID","reportStatus","clickView","isValidReviseStr","reviseSubmitted","subscription","createPageEvents","subscribe","call","openRevision","saveReportConfig","revisionClick","addNewLine","ngOnInit","GetFDHLReportNames","tableContainer","nativeElement","querySelector","addEventListener","handleDragOver","bind","event","rect","getBoundingClientRect","scrollThreshold","clientY","top","scrollTop","bottom","ngOnDestroy","_a","unsubscribe","body","document","style","overflow","closeRevision","isValidRevise","obj","REPORT_VERSION","invokeService","then","res","IsFDHLReportVersionAvailable","callVersion","revisionSubmit","data","setTimeout","param","datavalidate","STATUS","repConfEventCall","next","getData","active","clickedRow","revisionClear","isDraggingEnabled","drop","e","previousIndex","currentIndex","forEach","push","clickToView","REPORT_NAME","filter","item","back","addNewLineBtn","reportSelected","isChecked","splice","indexOf","repRowClick","emptyObj","REPORT_ATTR_ID","ATTR_REF_ID","REPORT_ATTR_DESC","arg","Promise","resolve","reject","ParamTuple","params","paramsAll","catch","deleteRepRow","confirm","message","header","icon","accept","dataObj","tuple","old","FD_HL_REPORT_CONFIG","FD_HL_ATTRIBUTES_M","disRepId","flag","undefined","selector","templateUrl","styleUrls","providers"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component } from '@angular/core';\r\nimport { ConfirmationService, MessageService } from 'primeng/api';\r\nlet ReportConfigComponent = class ReportConfigComponent {\r\n    constructor(service, confirmationService, router, elementRef, renderer) {\r\n        this.service = service;\r\n        this.confirmationService = confirmationService;\r\n        this.router = router;\r\n        this.elementRef = elementRef;\r\n        this.renderer = renderer;\r\n        this.namespace = \"http://schemas.cordys.com/FD_HL_WSPackage\";\r\n        this.tableArr = [];\r\n        this.reportSelectedArr = [];\r\n        this.docNameDropArr = [];\r\n        this.reportName = '';\r\n        this.selectedRepObj = {};\r\n        this.REPORT_CONFIG_REF_ID = '';\r\n        this.call_modal = true;\r\n        this.data_send = {};\r\n        this.repConfigparam = {};\r\n        this.AAHPopup = 'none';\r\n        this.Version = '';\r\n        this.Remarks = '';\r\n        this.REPORT_REF_ID = '';\r\n        this.reportStatus = '';\r\n        this.clickView = false;\r\n        this.isValidReviseStr = '';\r\n        this.reviseSubmitted = false;\r\n        this.subscription = this.service.createPageEvents.subscribe((call) => {\r\n            if (call == 'Save') {\r\n                this.openRevision();\r\n            }\r\n            else if (call == 'SaveasDraft') {\r\n                this.saveReportConfig('');\r\n            }\r\n            else if (call == 'Revice') {\r\n                this.revisionClick();\r\n            }\r\n            else if (call == 'AddNewLine') {\r\n                this.addNewLine();\r\n            }\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        // this.getData();\r\n        this.GetFDHLReportNames();\r\n        const tableContainer = this.elementRef.nativeElement.querySelector('.scrolling');\r\n        tableContainer.addEventListener('dragover', this.handleDragOver.bind(this));\r\n    }\r\n    handleDragOver(event) {\r\n        const tableContainer = this.elementRef.nativeElement.querySelector('.scrolling');\r\n        const rect = tableContainer.getBoundingClientRect();\r\n        const scrollThreshold = 40; // Adjust this value to change the scroll sensitivity\r\n        if (event.clientY < rect.top + scrollThreshold) {\r\n            tableContainer.scrollTop -= scrollThreshold;\r\n        }\r\n        else if (event.clientY > rect.bottom - scrollThreshold) {\r\n            tableContainer.scrollTop += scrollThreshold;\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        var _a;\r\n        (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\r\n    }\r\n    openRevision() {\r\n        this.AAHPopup = 'block';\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"hidden\";\r\n    }\r\n    closeRevision() {\r\n        this.AAHPopup = 'none';\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"auto\";\r\n    }\r\n    async isValidRevise() {\r\n        let obj = { REPORT_REF_ID: this.REPORT_REF_ID, REPORT_VERSION: this.Version };\r\n        await this.service.invokeService(\"IsFDHLReportVersionAvailable\", obj, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.isValidReviseStr = res[0].IsFDHLReportVersionAvailable;\r\n        });\r\n    }\r\n    callVersion() {\r\n        this.reviseSubmitted = false;\r\n    }\r\n    revisionSubmit() {\r\n        this.saveReportConfig('flag').then((data) => {\r\n            this.isValidRevise();\r\n            this.reviseSubmitted = true;\r\n            this.call_modal = false;\r\n            setTimeout(() => {\r\n                if (this.isValidReviseStr == 'false') {\r\n                    let param = {};\r\n                    if (this.datavalidate(this.REPORT_REF_ID) == '') {\r\n                        param = {\r\n                            'tuple': {\r\n                                'new': {\r\n                                    'FD_HL_REPORT_M': {\r\n                                        'REPORT_VERSION': this.Version,\r\n                                        'REMARKS': this.Remarks,\r\n                                        'STATUS': 1\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                    }\r\n                    else {\r\n                        param = {\r\n                            'tuple': {\r\n                                'old': {\r\n                                    'FD_HL_REPORT_M': {\r\n                                        'REPORT_REF_ID': this.REPORT_REF_ID\r\n                                    }\r\n                                },\r\n                                'new': {\r\n                                    'FD_HL_REPORT_M': {\r\n                                        'REPORT_VERSION': this.Version,\r\n                                        'REMARKS': this.Remarks,\r\n                                        'STATUS': 1\r\n                                    }\r\n                                },\r\n                            }\r\n                        };\r\n                    }\r\n                    this.service.invokeService(\"UpdateFdHlReportM\", param, this.namespace, true, false)\r\n                        .then((res) => {\r\n                        this.reportStatus = res[0].STATUS;\r\n                        this.service.repConfEventCall.next(this.REPORT_REF_ID + \",\" + 1);\r\n                        this.getData();\r\n                        setTimeout(() => {\r\n                            this.call_modal = true;\r\n                            this.data_send = { 'text': 'Data Saved Succssfully', active: this.call_modal };\r\n                        }, 0);\r\n                        this.closeRevision();\r\n                    });\r\n                }\r\n            }, 500);\r\n        });\r\n    }\r\n    revisionClick() {\r\n        this.call_modal = false;\r\n        let param = {};\r\n        if (this.datavalidate(this.REPORT_REF_ID) != '') {\r\n            param = {\r\n                'tuple': {\r\n                    'old': {\r\n                        'FD_HL_REPORT_M': {\r\n                            'REPORT_REF_ID': this.REPORT_REF_ID\r\n                        }\r\n                    },\r\n                    'new': {\r\n                        'FD_HL_REPORT_M': {\r\n                            'STATUS': 0\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        this.service.invokeService(\"UpdateFdHlReportM\", param, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.reportStatus = res[0].STATUS;\r\n            this.getData();\r\n            this.service.repConfEventCall.next(this.REPORT_REF_ID + \",\" + 0);\r\n            this.clickedRow = null;\r\n            this.revisionClear();\r\n            setTimeout(() => {\r\n                this.call_modal = true;\r\n                this.data_send = { 'text': 'Revision Data Saved Succssfully', active: this.call_modal };\r\n            }, 0);\r\n        });\r\n    }\r\n    revisionClear() {\r\n        this.Version = '';\r\n        this.Remarks = '';\r\n        this.reviseSubmitted = false;\r\n    }\r\n    isDraggingEnabled(obj) {\r\n        if (this.reportStatus == '1') {\r\n            return (this.datavalidate(obj.REPORT_CONFIG_REF_ID) == '' ? false : true);\r\n        }\r\n        else {\r\n            return (this.datavalidate(obj.REPORT_CONFIG_REF_ID) == '' ? true : false);\r\n        }\r\n    }\r\n    ;\r\n    drop(e) {\r\n        this.reportSelectedArr = [];\r\n        moveItemInArray(this.tableArr, e.previousIndex, e.currentIndex);\r\n        this.tableArr.forEach((obj) => {\r\n            if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '') {\r\n                this.reportSelectedArr.push(obj);\r\n            }\r\n        });\r\n    }\r\n    GetFDHLReportNames() {\r\n        this.service.invokeService(\"GetFDHLReportNames\", null, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.docNameDropArr = res;\r\n        });\r\n    }\r\n    clickToView(obj) {\r\n        this.tableArr = [];\r\n        this.clickView = true;\r\n        this.reportStatus = obj.STATUS;\r\n        this.reportName = obj.REPORT_NAME;\r\n        this.REPORT_REF_ID = obj.REPORT_REF_ID;\r\n        this.selectedRepObj = obj;\r\n        this.repConfigparam = { REPORT_REF_ID: obj.REPORT_REF_ID, REPORT_NAME: obj.REPORT_NAME };\r\n        this.service.repConfEventCall.next(obj.REPORT_REF_ID + \",\" + this.reportStatus);\r\n        this.getData();\r\n    }\r\n    getData() {\r\n        this.reportSelectedArr = [];\r\n        this.service.invokeService(\"GetFdHlReportConfiguration\", this.repConfigparam, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.tableArr = res;\r\n            if (this.reportStatus == '1') {\r\n                this.tableArr = res.filter((item) => this.datavalidate(item.REPORT_CONFIG_REF_ID) != '');\r\n                return;\r\n            }\r\n            res.forEach((obj) => {\r\n                if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '') {\r\n                    this.reportSelectedArr.push(obj);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    back() {\r\n        this.clickView = false;\r\n        this.clickedRow = null;\r\n        this.service.repConfEventCall.next('' + \",\" + this.reportStatus);\r\n        this.service.addNewLineBtn.next('a');\r\n        this.GetFDHLReportNames();\r\n    }\r\n    reportSelected(obj) {\r\n        if (obj.isChecked) {\r\n            this.reportSelectedArr.push(obj);\r\n        }\r\n        else {\r\n            this.reportSelectedArr.splice(this.reportSelectedArr.indexOf(obj), 1);\r\n        }\r\n    }\r\n    repRowClick(obj) {\r\n        if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '' && this.reportStatus == '0') {\r\n            this.clickedRow = this.tableArr.indexOf(obj);\r\n            this.service.addNewLineBtn.next(this.clickedRow);\r\n        }\r\n    }\r\n    addNewLine() {\r\n        let emptyObj = {\r\n            REPORT_ATTR_ID: '',\r\n            ATTR_REF_ID: '',\r\n            REPORT_ATTR_DESC: '',\r\n            REPORT_REF_ID: this.repConfigparam.REPORT_REF_ID,\r\n            REPORT_NAME: this.repConfigparam.REPORT_NAME,\r\n            REPORT_CONFIG_REF_ID: ''\r\n        };\r\n        // if (this.datavalidate(this.tableArr[this.clickedRow].REPORT_CONFIG_REF_ID) == '') {\r\n        //   this.service.addNewLineBtn.next('a');\r\n        //   this.clickedRow = null;\r\n        //   return;\r\n        // }\r\n        this.tableArr.splice(this.clickedRow + 1, 0, emptyObj);\r\n        this.reportSelectedArr.splice(this.clickedRow + 1, 0, emptyObj);\r\n        this.clickedRow = null;\r\n        this.service.addNewLineBtn.next('a');\r\n    }\r\n    saveReportConfig(arg) {\r\n        return new Promise((resolve, reject) => {\r\n            this.call_modal = false;\r\n            let ParamTuple = [];\r\n            var params = {};\r\n            for (var obj of this.reportSelectedArr) {\r\n                if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) == \"\") {\r\n                    params = {\r\n                        'new': {\r\n                            'FD_HL_REPORT_CONFIG': {\r\n                                'REPORT_ATTR_ID': obj.REPORT_ATTR_ID,\r\n                                'ATTR_REF_ID': obj.ATTR_REF_ID,\r\n                                'REPORT_ATTR_DESC': obj.REPORT_ATTR_DESC,\r\n                                'IS_ACTIVE': 1,\r\n                                'REPORT_REF_ID': this.selectedRepObj.REPORT_REF_ID,\r\n                                'REPORT_NAME': this.selectedRepObj.REPORT_NAME,\r\n                                'REPORT_ATTR_ORDER': this.reportSelectedArr.indexOf(obj)\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n                else {\r\n                    params = {\r\n                        'old': {\r\n                            'FD_HL_REPORT_CONFIG': {\r\n                                'REPORT_CONFIG_REF_ID': obj.REPORT_CONFIG_REF_ID\r\n                            }\r\n                        },\r\n                        'new': {\r\n                            'FD_HL_REPORT_CONFIG': {\r\n                                'REPORT_ATTR_ID': obj.REPORT_ATTR_ID,\r\n                                'ATTR_REF_ID': obj.ATTR_REF_ID,\r\n                                'REPORT_ATTR_DESC': obj.REPORT_ATTR_DESC,\r\n                                'IS_ACTIVE': 1,\r\n                                'REPORT_REF_ID': this.selectedRepObj.REPORT_REF_ID,\r\n                                'REPORT_NAME': this.selectedRepObj.REPORT_NAME,\r\n                                'REPORT_ATTR_ORDER': this.reportSelectedArr.indexOf(obj)\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n                ParamTuple.push(params);\r\n            }\r\n            var paramsAll = { 'tuple': ParamTuple };\r\n            this.service.invokeService(\"UpdateFdHlReportConfig\", paramsAll, this.namespace, true, false)\r\n                .then((res) => {\r\n                // this.REPORT_CONFIG_REF_ID = res[0].REPORT_CONFIG_REF_ID\r\n                this.reportSelectedArr = [];\r\n                this.clickedRow = null;\r\n                this.reportStatus = '0';\r\n                this.service.addNewLineBtn.next('a');\r\n                this.getData();\r\n                if (arg == '') {\r\n                    setTimeout(() => {\r\n                        this.call_modal = true;\r\n                        this.data_send = { 'text': 'Data Saved Succssfully', active: this.call_modal };\r\n                    }, 0);\r\n                }\r\n                resolve('Res success from saving');\r\n            }).catch((e) => {\r\n                reject(e);\r\n            });\r\n        });\r\n    }\r\n    deleteRepRow(obj) {\r\n        this.service.addNewLineBtn.next('a');\r\n        this.call_modal = false;\r\n        if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '') {\r\n            this.confirmationService.confirm({\r\n                message: 'Are you sure that you want to delete this Attribute?', header: 'Confirmation', icon: 'pi pi-exclamation-triangle',\r\n                accept: () => {\r\n                    let dataObj = {\r\n                        tuple: {\r\n                            old: {\r\n                                FD_HL_REPORT_CONFIG: {\r\n                                    REPORT_CONFIG_REF_ID: obj.REPORT_CONFIG_REF_ID,\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    this.service.invokeService(\"UpdateFdHlReportConfig\", dataObj, this.namespace, true, false)\r\n                        .then((res) => {\r\n                        this.tableArr.splice(this.tableArr.indexOf(obj), 1);\r\n                        this.reportSelectedArr.splice(this.reportSelectedArr.indexOf(obj), 1);\r\n                        this.getData();\r\n                        // setTimeout(() => {\r\n                        //   this.call_modal = true;\r\n                        //   this.data_send = { text: 'File Deleted Successfully!', active: this.call_modal };\r\n                        // }, 0);\r\n                    });\r\n                },\r\n                reject: () => { }\r\n            });\r\n        }\r\n        else {\r\n            if (this.datavalidate(obj.ATTR_REF_ID) != '') {\r\n                this.confirmationService.confirm({\r\n                    message: 'Are you sure that you want to delete this Attribute?', header: 'Confirmation', icon: 'pi pi-exclamation-triangle',\r\n                    accept: () => {\r\n                        let dataObj = {\r\n                            tuple: {\r\n                                old: {\r\n                                    FD_HL_ATTRIBUTES_M: {\r\n                                        ATTR_REF_ID: obj.ATTR_REF_ID,\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        this.service.invokeService(\"UpdateFdHlAttributesM\", dataObj, this.namespace, true, false)\r\n                            .then((res) => {\r\n                            this.tableArr.splice(this.tableArr.indexOf(obj), 1);\r\n                            // setTimeout(() => {\r\n                            //   this.call_modal = true;\r\n                            //   this.data_send = { text: 'File Deleted Successfully!', active: this.call_modal };\r\n                            // }, 0);\r\n                        });\r\n                    },\r\n                    reject: () => { }\r\n                });\r\n            }\r\n            else {\r\n                this.tableArr.splice(this.tableArr.indexOf(obj), 1);\r\n                this.reportSelectedArr.splice(this.reportSelectedArr.indexOf(obj), 1);\r\n                // this.reportSelectedArr\r\n            }\r\n        }\r\n    }\r\n    disRepId(obj) {\r\n        let flag = false;\r\n        if (this.reportStatus == '1') {\r\n            flag = true;\r\n        }\r\n        else {\r\n            if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) == '' && !obj.isChecked) {\r\n                flag = true;\r\n            }\r\n            if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '' && (obj.isChecked == undefined || obj.isChecked) && this.datavalidate(obj.REPORT_ATTR_DESC) != '') {\r\n                flag = false;\r\n            }\r\n            else if (this.datavalidate(obj.REPORT_CONFIG_REF_ID) != '' && obj.isChecked == undefined && this.datavalidate(obj.REPORT_ATTR_DESC) == '') {\r\n                flag = true;\r\n            }\r\n        }\r\n        return flag;\r\n    }\r\n    datavalidate(data) {\r\n        //debugger;\r\n        if (data != undefined && data != null && data != \"\") {\r\n            return data;\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    }\r\n};\r\nReportConfigComponent = __decorate([\r\n    Component({\r\n        selector: 'app-report-config',\r\n        templateUrl: './report-config.component.html',\r\n        styleUrls: ['./report-config.component.css'],\r\n        providers: [ConfirmationService, MessageService]\r\n    })\r\n], ReportConfigComponent);\r\nexport { ReportConfigComponent };\r\n"]},"metadata":{},"sourceType":"module"}