{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\SVN Projects\\\\FD_Homologation_LatesT\\\\FD_Homologation\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./dashboard.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./dashboard.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { Services } from '../services/services';\nimport { DatePipe } from \"@angular/common\";\nimport { Router } from '@angular/router';\nlet DashboardComponent = class DashboardComponent {\n  constructor(service, datepipe, router) {\n    this.service = service;\n    this.datepipe = datepipe;\n    this.router = router;\n    this.namespace = \"http://schemas.cordys.com/FD_HL_WSPackage\";\n    this.tabsArr = [];\n    this.call_modal = false;\n    this.requestIDArr = [];\n    this.requestInitiatorArr = [];\n    this.ENGINE_FAMILY_NO_Arr = [];\n    this.requestNameArr = [];\n    this.AAHPopup = 'none';\n    this.AAHArr = [];\n    this.searchObj = {\n      engineNumber: '',\n      engineModel: '',\n      status: '',\n      stage: '',\n      requestIDStr: '',\n      fromDate: '',\n      toDate: '',\n      type: '',\n      location: ''\n    };\n    this.initiator1 = '';\n    this.initiator = '';\n    this.requestIDStr1 = '';\n    this.keyword = 'REQUEST_NO';\n    this.keyword1 = 'INITIATOR';\n    this.pagination = {\n      itemsPerPage: 10,\n      currentPage: 1\n    };\n    this.loginUserID = '';\n    this.checkedRows = [];\n    this.isDash_ViewDashbrd = false;\n    this.isDashboard = false;\n    this.isViewDashbrd = false;\n    this.searchedData = []; // requestID=['1','2','3']\n    // engineNumber=['1','2','3']\n\n    this.engineModel = [];\n    this.processStatus = ['Completed', 'In Progress', 'Obsoleted', 'Rejected', 'Waiting for Certification'];\n    this.stage = ['ARAI', 'Requestor', 'CD CoE SPOC'];\n    this.reqIdFlag = '';\n    this.initFlag = '';\n    this.service.tabsArr.subscribe(data => {\n      if (data) {\n        this.tabsArr = data;\n        this.clickHide();\n      }\n    });\n    this.service.loginUserID.subscribe(loginUserID => {\n      this.loginUserID = loginUserID;\n    });\n  }\n\n  ngOnInit() {\n    this.getFD_HL_RequestNoDetails();\n    this.getEngineFamily();\n  }\n\n  getEngineFamily() {\n    let dataObj = {\n      ENGINE_M_REF_ID: ''\n    };\n    this.service.invokeService(\"GetFDHLEngineFamilyDetails\", dataObj, this.namespace, true, false).then(res => {\n      res.forEach(data => {\n        this.ENGINE_FAMILY_NO_Arr.push({\n          RefNo: data.ENGINE_F_REF_ID,\n          engineFamilyNo: data.ENGINE_FAMILY_NO\n        });\n      });\n    });\n  }\n\n  dashboardView() {\n    if (this.tabsArr.includes('ViewDashboard') && this.tabsArr.includes('Dashboard')) {\n      return true;\n    }\n\n    if (this.tabsArr.includes('Dashboard')) {\n      return true;\n    }\n\n    if (this.tabsArr.includes('ViewDashboard')) {\n      return false;\n    }\n\n    return false;\n  }\n\n  clickHide() {\n    if (this.tabsArr.includes('ViewDashboard') && this.tabsArr.includes('Dashboard')) {\n      this.isDash_ViewDashbrd = true;\n    }\n\n    if (this.tabsArr.includes('Dashboard')) {\n      this.isDashboard = true;\n    }\n\n    if (this.tabsArr.includes('ViewDashboard')) {\n      this.isViewDashbrd = true;\n    }\n  }\n\n  mailTrigger(HR_REF_NO) {\n    this.call_modal = false;\n    let dObj = {\n      HR_REF_NO: HR_REF_NO,\n      userId: this.loginUserID,\n      fromUser: this.loginUserID\n    };\n    this.service.invokeService(\"SendFDHLDocumentDetailsByHr_Ref_No\", dObj, this.namespace, true, false).then(res => {\n      setTimeout(() => {\n        this.call_modal = true;\n        this.data_send = {\n          text: 'Mail triggered successfully',\n          active: this.call_modal\n        };\n      }, 0);\n    });\n  }\n\n  workflowHistory() {\n    this.AAHPopup = 'block';\n    const body = document.querySelector(\"body\");\n    body.style.overflow = \"hidden\";\n  }\n\n  closeWorkFlowDoc() {\n    this.AAHPopup = 'none';\n    const body = document.querySelector(\"body\");\n    body.style.overflow = \"auto\";\n  }\n\n  getAAH(arg, event) {\n    if (this.previndex) {\n      this.previndex.target.checked = false;\n    }\n\n    this.previndex = event;\n\n    if (!event.target.checked) {\n      arg = '';\n    }\n\n    let dataObj = {\n      HR_RefNo: arg\n    };\n    this.service.invokeService(\"GetFD_HLHistoryDetailsByHR_RefNo\", dataObj, this.namespace, true, false).then(res => {\n      this.AAHArr = res;\n    });\n  } // initiator=['1','2','3']\n\n\n  selectEvent(item) {\n    this.searchObj.requestIDStr = item.REQUEST_NO;\n    this.reqIdFlag = 'selected';\n  }\n\n  selectEventInitiator(item) {\n    this.initiator = item.INITIATOR_ID; // this.initiator1 = item.INITIATOR_ID;\n\n    this.initFlag = 'selected';\n  }\n\n  clearReqID() {\n    this.requestIDStr1 = '';\n    this.searchObj.requestIDStr = '';\n  }\n\n  clearInitiator() {\n    this.initiator1 = '';\n    this.initiator = '';\n  }\n\n  getEngineModel() {\n    this.engineModel = [];\n    let obj = {\n      ENGINE_FAMILY_NO: this.searchObj.engineNumber\n    };\n    this.service.invokeService(\"GetFDHLEngineModelsByFamily\", obj, this.namespace, true, false).then(res => {\n      res.forEach(d => {\n        this.engineModel.push(d.ENGINE_MODEL_NO);\n      });\n    });\n  }\n\n  handlePageChange(eve) {\n    this.pagination.currentPage = eve;\n  }\n\n  clear() {\n    this.searchObj = {\n      engineNumber: '',\n      engineModel: '',\n      status: '',\n      stage: '',\n      requestIDStr: '',\n      fromDate: '',\n      toDate: '',\n      type: '',\n      location: ''\n    };\n    this.initiator1 = '';\n    this.initiator = '';\n    this.requestIDStr1 = '';\n    this.searchedData = [];\n    this.engineModel = [];\n  }\n\n  dateValidation() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.call_modal = false;\n\n      if (Date.parse(_this.searchObj.toDate) && Date.parse(_this.searchObj.fromDate)) {\n        if (Date.parse(_this.searchObj.fromDate) > Date.parse(_this.searchObj.toDate)) {\n          setTimeout(() => {\n            _this.call_modal = true;\n            _this.data_send = {\n              text: 'To Date Should be less than From Date',\n              active: _this.call_modal\n            };\n            _this.searchObj.toDate = '';\n          }, 0);\n          return;\n        }\n      }\n    })();\n  }\n\n  clickToView(HR_REF_NO) {\n    this.router.navigate(['/createNewRequest'], {\n      queryParams: {\n        HR_REF_NO: HR_REF_NO,\n        openAs: \"dashboard\"\n      }\n    });\n  }\n\n  checkInit() {\n    this.initFlag = 'ngmodel';\n  }\n\n  changeReqId() {\n    this.reqIdFlag = 'ngmodel';\n  }\n\n  getDetails() {\n    this.call_modal = false;\n    let obj = {\n      requestId: this.convToStr(this.reqIdFlag == 'selected' ? this.searchObj.requestIDStr : this.reqIdFlag == 'ngmodel' ? this.requestIDStr1 : ''),\n      engineNo: this.convToStr(this.searchObj.engineNumber),\n      engineName: this.convToStr(this.searchObj.engineModel),\n      processStatus: this.convToStr(this.searchObj.status) == 'Completed' ? 1 : this.convToStr(this.searchObj.status) == 'In Progress' ? 2 : this.convToStr(this.searchObj.status) == 'Rejected' ? 3 : this.convToStr(this.searchObj.status) == 'Obsoleted' ? 4 : this.convToStr(this.searchObj.status) == 'Waiting for Certification' ? 5 : '',\n      stage: this.convToStr(this.searchObj.stage) == 'Requestor' ? 1 : this.convToStr(this.searchObj.stage) == 'CD CoE SPOC' ? 2 : this.convToStr(this.searchObj.stage) == 'ARAI' ? 3 : '',\n      initiator: this.convToStr(this.initFlag == 'selected' ? this.initiator : this.initFlag == 'ngmodel' ? this.initiator1 : ''),\n      from_Date: this.convToStr(this.datepipe.transform(this.searchObj.fromDate, 'dd-MM-yyyy')),\n      to_Date: this.convToStr(this.datepipe.transform(this.searchObj.toDate, 'dd-MM-yyyy')),\n      location: this.convToStr(this.searchObj.location),\n      type: this.convToStr(this.searchObj.type)\n    };\n    this.service.invokeService(\"GetFD_HLSearchDetails\", obj, this.namespace, true, false).then(res => {\n      if (res.length == 0) {\n        setTimeout(() => {\n          this.call_modal = true;\n          this.data_send = {\n            text: 'Data not found',\n            active: this.call_modal\n          };\n        }, 0);\n      }\n\n      this.searchedData = res;\n    });\n  }\n\n  getFD_HL_RequestNoDetails() {\n    this.service.invokeService(\"GetFD_HL_RequestNoDetails\", null, this.namespace, true, false).then(res => {\n      this.requestIDArr = res;\n    });\n    this.service.invokeService(\"GetFD_HLRequestorDetails\", null, this.namespace, true, false).then(res => {\n      this.requestNameArr = res;\n    });\n  }\n\n  exportExcel() {\n    let obj = {\n      requestId: this.convToStr(this.searchObj.requestIDStr),\n      engineNo: this.convToStr(this.searchObj.engineNumber),\n      engineName: this.convToStr(this.searchObj.engineModel),\n      processStatus: this.convToStr(this.searchObj.status) == 'Completed' ? 1 : this.convToStr(this.searchObj.status) == 'In Progress' ? 2 : this.convToStr(this.searchObj.status) == 'Rejected' ? 3 : this.convToStr(this.searchObj.status) == 'Obsoleted' ? 4 : this.convToStr(this.searchObj.status) == 'Waiting for Certification' ? 5 : '',\n      stage: this.convToStr(this.searchObj.stage) == 'Requestor' ? 1 : this.convToStr(this.searchObj.stage) == 'CD CoE SPOC' ? 2 : this.convToStr(this.searchObj.stage) == 'ARAI' ? 3 : '',\n      initiator: this.convToStr(this.initiator),\n      from_Date: this.convToStr(this.datepipe.transform(this.searchObj.fromDate, 'dd-MM-yyyy')),\n      to_Date: this.convToStr(this.datepipe.transform(this.searchObj.toDate, 'dd-MM-yyyy')),\n      location: this.convToStr(this.searchObj.location),\n      type: this.convToStr(this.searchObj.type)\n    };\n    this.service.invokeService(\"ExcelFD_HLSearchDetails\", obj, this.namespace, true, false).then(res => {\n      this.service.downloadFileByFileContent(res[0].ExcelFD_HLSearchDetails, \"FDHLSearchDetails.xlsx\");\n    });\n  }\n\n  convToStr(data) {\n    //debugger;\n    if (data != undefined && data != null && data != \"\") {\n      return data;\n    } else {\n      return \"\";\n    }\n  }\n\n};\n\nDashboardComponent.ctorParameters = () => [{\n  type: Services\n}, {\n  type: DatePipe\n}, {\n  type: Router\n}];\n\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"sources":["D:/SVN Projects/FD_Homologation_LatesT/FD_Homologation/src/app/dashboard/dashboard.component.ts"],"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","Services","DatePipe","Router","DashboardComponent","constructor","service","datepipe","router","namespace","tabsArr","call_modal","requestIDArr","requestInitiatorArr","ENGINE_FAMILY_NO_Arr","requestNameArr","AAHPopup","AAHArr","searchObj","engineNumber","engineModel","status","stage","requestIDStr","fromDate","toDate","type","location","initiator1","initiator","requestIDStr1","keyword","keyword1","pagination","itemsPerPage","currentPage","loginUserID","checkedRows","isDash_ViewDashbrd","isDashboard","isViewDashbrd","searchedData","processStatus","reqIdFlag","initFlag","subscribe","data","clickHide","ngOnInit","getFD_HL_RequestNoDetails","getEngineFamily","dataObj","ENGINE_M_REF_ID","invokeService","then","res","forEach","push","RefNo","ENGINE_F_REF_ID","engineFamilyNo","ENGINE_FAMILY_NO","dashboardView","includes","mailTrigger","HR_REF_NO","dObj","userId","fromUser","setTimeout","data_send","text","active","workflowHistory","body","document","querySelector","style","overflow","closeWorkFlowDoc","getAAH","arg","event","previndex","target","checked","HR_RefNo","selectEvent","item","REQUEST_NO","selectEventInitiator","INITIATOR_ID","clearReqID","clearInitiator","getEngineModel","obj","d","ENGINE_MODEL_NO","handlePageChange","eve","clear","dateValidation","Date","parse","clickToView","navigate","queryParams","openAs","checkInit","changeReqId","getDetails","requestId","convToStr","engineNo","engineName","from_Date","transform","to_Date","length","exportExcel","downloadFileByFileContent","ExcelFD_HLSearchDetails","undefined","ctorParameters","selector","template","styles"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport __NG_CLI_RESOURCE__0 from \"./dashboard.component.html?ngResource\";\r\nimport __NG_CLI_RESOURCE__1 from \"./dashboard.component.css?ngResource\";\r\nimport { Component } from '@angular/core';\r\nimport { Services } from '../services/services';\r\nimport { DatePipe } from \"@angular/common\";\r\nimport { Router } from '@angular/router';\r\nlet DashboardComponent = class DashboardComponent {\r\n    constructor(service, datepipe, router) {\r\n        this.service = service;\r\n        this.datepipe = datepipe;\r\n        this.router = router;\r\n        this.namespace = \"http://schemas.cordys.com/FD_HL_WSPackage\";\r\n        this.tabsArr = [];\r\n        this.call_modal = false;\r\n        this.requestIDArr = [];\r\n        this.requestInitiatorArr = [];\r\n        this.ENGINE_FAMILY_NO_Arr = [];\r\n        this.requestNameArr = [];\r\n        this.AAHPopup = 'none';\r\n        this.AAHArr = [];\r\n        this.searchObj = {\r\n            engineNumber: '',\r\n            engineModel: '',\r\n            status: '',\r\n            stage: '',\r\n            requestIDStr: '',\r\n            fromDate: '',\r\n            toDate: '',\r\n            type: '',\r\n            location: ''\r\n        };\r\n        this.initiator1 = '';\r\n        this.initiator = '';\r\n        this.requestIDStr1 = '';\r\n        this.keyword = 'REQUEST_NO';\r\n        this.keyword1 = 'INITIATOR';\r\n        this.pagination = { itemsPerPage: 10, currentPage: 1 };\r\n        this.loginUserID = '';\r\n        this.checkedRows = [];\r\n        this.isDash_ViewDashbrd = false;\r\n        this.isDashboard = false;\r\n        this.isViewDashbrd = false;\r\n        this.searchedData = [];\r\n        // requestID=['1','2','3']\r\n        // engineNumber=['1','2','3']\r\n        this.engineModel = [];\r\n        this.processStatus = ['Completed', 'In Progress', 'Obsoleted', 'Rejected', 'Waiting for Certification'];\r\n        this.stage = ['ARAI', 'Requestor', 'CD CoE SPOC'];\r\n        this.reqIdFlag = '';\r\n        this.initFlag = '';\r\n        this.service.tabsArr.subscribe((data) => {\r\n            if (data) {\r\n                this.tabsArr = data;\r\n                this.clickHide();\r\n            }\r\n        });\r\n        this.service.loginUserID.subscribe((loginUserID) => {\r\n            this.loginUserID = loginUserID;\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.getFD_HL_RequestNoDetails();\r\n        this.getEngineFamily();\r\n    }\r\n    getEngineFamily() {\r\n        let dataObj = { ENGINE_M_REF_ID: '' };\r\n        this.service.invokeService(\"GetFDHLEngineFamilyDetails\", dataObj, this.namespace, true, false)\r\n            .then((res) => {\r\n            res.forEach((data) => {\r\n                this.ENGINE_FAMILY_NO_Arr.push({ RefNo: data.ENGINE_F_REF_ID, engineFamilyNo: data.ENGINE_FAMILY_NO });\r\n            });\r\n        });\r\n    }\r\n    dashboardView() {\r\n        if (this.tabsArr.includes('ViewDashboard') && this.tabsArr.includes('Dashboard')) {\r\n            return true;\r\n        }\r\n        if (this.tabsArr.includes('Dashboard')) {\r\n            return true;\r\n        }\r\n        if (this.tabsArr.includes('ViewDashboard')) {\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n    clickHide() {\r\n        if (this.tabsArr.includes('ViewDashboard') && this.tabsArr.includes('Dashboard')) {\r\n            this.isDash_ViewDashbrd = true;\r\n        }\r\n        if (this.tabsArr.includes('Dashboard')) {\r\n            this.isDashboard = true;\r\n        }\r\n        if (this.tabsArr.includes('ViewDashboard')) {\r\n            this.isViewDashbrd = true;\r\n        }\r\n    }\r\n    mailTrigger(HR_REF_NO) {\r\n        this.call_modal = false;\r\n        let dObj = {\r\n            HR_REF_NO: HR_REF_NO,\r\n            userId: this.loginUserID,\r\n            fromUser: this.loginUserID\r\n        };\r\n        this.service.invokeService(\"SendFDHLDocumentDetailsByHr_Ref_No\", dObj, this.namespace, true, false).\r\n            then((res) => {\r\n            setTimeout(() => {\r\n                this.call_modal = true;\r\n                this.data_send = { text: 'Mail triggered successfully', active: this.call_modal };\r\n            }, 0);\r\n        });\r\n    }\r\n    workflowHistory() {\r\n        this.AAHPopup = 'block';\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"hidden\";\r\n    }\r\n    closeWorkFlowDoc() {\r\n        this.AAHPopup = 'none';\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"auto\";\r\n    }\r\n    getAAH(arg, event) {\r\n        if (this.previndex) {\r\n            this.previndex.target.checked = false;\r\n        }\r\n        this.previndex = event;\r\n        if (!event.target.checked) {\r\n            arg = '';\r\n        }\r\n        let dataObj = { HR_RefNo: arg };\r\n        this.service.invokeService(\"GetFD_HLHistoryDetailsByHR_RefNo\", dataObj, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.AAHArr = res;\r\n        });\r\n    }\r\n    // initiator=['1','2','3']\r\n    selectEvent(item) {\r\n        this.searchObj.requestIDStr = item.REQUEST_NO;\r\n        this.reqIdFlag = 'selected';\r\n    }\r\n    selectEventInitiator(item) {\r\n        this.initiator = item.INITIATOR_ID;\r\n        // this.initiator1 = item.INITIATOR_ID;\r\n        this.initFlag = 'selected';\r\n    }\r\n    clearReqID() {\r\n        this.requestIDStr1 = '';\r\n        this.searchObj.requestIDStr = '';\r\n    }\r\n    clearInitiator() {\r\n        this.initiator1 = '';\r\n        this.initiator = '';\r\n    }\r\n    getEngineModel() {\r\n        this.engineModel = [];\r\n        let obj = { ENGINE_FAMILY_NO: this.searchObj.engineNumber };\r\n        this.service.invokeService(\"GetFDHLEngineModelsByFamily\", obj, this.namespace, true, false)\r\n            .then((res) => {\r\n            res.forEach((d) => {\r\n                this.engineModel.push(d.ENGINE_MODEL_NO);\r\n            });\r\n        });\r\n    }\r\n    handlePageChange(eve) {\r\n        this.pagination.currentPage = eve;\r\n    }\r\n    clear() {\r\n        this.searchObj = {\r\n            engineNumber: '',\r\n            engineModel: '',\r\n            status: '',\r\n            stage: '',\r\n            requestIDStr: '',\r\n            fromDate: '',\r\n            toDate: '',\r\n            type: '',\r\n            location: ''\r\n        };\r\n        this.initiator1 = '';\r\n        this.initiator = '';\r\n        this.requestIDStr1 = '';\r\n        this.searchedData = [];\r\n        this.engineModel = [];\r\n    }\r\n    async dateValidation() {\r\n        this.call_modal = false;\r\n        if (Date.parse(this.searchObj.toDate) && Date.parse(this.searchObj.fromDate)) {\r\n            if (Date.parse(this.searchObj.fromDate) > Date.parse(this.searchObj.toDate)) {\r\n                setTimeout(() => {\r\n                    this.call_modal = true;\r\n                    this.data_send = { text: 'To Date Should be less than From Date', active: this.call_modal };\r\n                    this.searchObj.toDate = '';\r\n                }, 0);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    clickToView(HR_REF_NO) {\r\n        this.router.navigate(['/createNewRequest'], { queryParams: { HR_REF_NO: HR_REF_NO, openAs: \"dashboard\" } });\r\n    }\r\n    checkInit() {\r\n        this.initFlag = 'ngmodel';\r\n    }\r\n    changeReqId() {\r\n        this.reqIdFlag = 'ngmodel';\r\n    }\r\n    getDetails() {\r\n        this.call_modal = false;\r\n        let obj = {\r\n            requestId: this.convToStr(this.reqIdFlag == 'selected' ? this.searchObj.requestIDStr : this.reqIdFlag == 'ngmodel' ? this.requestIDStr1 : ''),\r\n            engineNo: this.convToStr(this.searchObj.engineNumber),\r\n            engineName: this.convToStr(this.searchObj.engineModel),\r\n            processStatus: this.convToStr(this.searchObj.status) == 'Completed' ? 1 : this.convToStr(this.searchObj.status) == 'In Progress' ? 2 : this.convToStr(this.searchObj.status) == 'Rejected' ? 3 :\r\n                this.convToStr(this.searchObj.status) == 'Obsoleted' ? 4 : this.convToStr(this.searchObj.status) == 'Waiting for Certification' ? 5 : '',\r\n            stage: this.convToStr(this.searchObj.stage) == 'Requestor' ? 1 : this.convToStr(this.searchObj.stage) == 'CD CoE SPOC' ? 2 : this.convToStr(this.searchObj.stage) == 'ARAI' ? 3 : '',\r\n            initiator: this.convToStr(this.initFlag == 'selected' ? this.initiator : this.initFlag == 'ngmodel' ? this.initiator1 : ''),\r\n            from_Date: this.convToStr(this.datepipe.transform(this.searchObj.fromDate, 'dd-MM-yyyy')),\r\n            to_Date: this.convToStr(this.datepipe.transform(this.searchObj.toDate, 'dd-MM-yyyy')),\r\n            location: this.convToStr(this.searchObj.location),\r\n            type: this.convToStr(this.searchObj.type)\r\n        };\r\n        this.service.invokeService(\"GetFD_HLSearchDetails\", obj, this.namespace, true, false)\r\n            .then((res) => {\r\n            if (res.length == 0) {\r\n                setTimeout(() => {\r\n                    this.call_modal = true;\r\n                    this.data_send = { text: 'Data not found', active: this.call_modal };\r\n                }, 0);\r\n            }\r\n            this.searchedData = res;\r\n        });\r\n    }\r\n    getFD_HL_RequestNoDetails() {\r\n        this.service.invokeService(\"GetFD_HL_RequestNoDetails\", null, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.requestIDArr = res;\r\n        });\r\n        this.service.invokeService(\"GetFD_HLRequestorDetails\", null, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.requestNameArr = res;\r\n        });\r\n    }\r\n    exportExcel() {\r\n        let obj = {\r\n            requestId: this.convToStr(this.searchObj.requestIDStr),\r\n            engineNo: this.convToStr(this.searchObj.engineNumber),\r\n            engineName: this.convToStr(this.searchObj.engineModel),\r\n            processStatus: this.convToStr(this.searchObj.status) == 'Completed' ? 1 : this.convToStr(this.searchObj.status) == 'In Progress' ? 2 : this.convToStr(this.searchObj.status) == 'Rejected' ? 3 :\r\n                this.convToStr(this.searchObj.status) == 'Obsoleted' ? 4 : this.convToStr(this.searchObj.status) == 'Waiting for Certification' ? 5 : '',\r\n            stage: this.convToStr(this.searchObj.stage) == 'Requestor' ? 1 : this.convToStr(this.searchObj.stage) == 'CD CoE SPOC' ? 2 : this.convToStr(this.searchObj.stage) == 'ARAI' ? 3 : '',\r\n            initiator: this.convToStr(this.initiator),\r\n            from_Date: this.convToStr(this.datepipe.transform(this.searchObj.fromDate, 'dd-MM-yyyy')),\r\n            to_Date: this.convToStr(this.datepipe.transform(this.searchObj.toDate, 'dd-MM-yyyy')),\r\n            location: this.convToStr(this.searchObj.location),\r\n            type: this.convToStr(this.searchObj.type)\r\n        };\r\n        this.service.invokeService(\"ExcelFD_HLSearchDetails\", obj, this.namespace, true, false)\r\n            .then((res) => {\r\n            this.service.downloadFileByFileContent(res[0].ExcelFD_HLSearchDetails, \"FDHLSearchDetails.xlsx\");\r\n        });\r\n    }\r\n    convToStr(data) {\r\n        //debugger;\r\n        if (data != undefined && data != null && data != \"\") {\r\n            return data;\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    }\r\n};\r\nDashboardComponent.ctorParameters = () => [\r\n    { type: Services },\r\n    { type: DatePipe },\r\n    { type: Router }\r\n];\r\nDashboardComponent = __decorate([\r\n    Component({\r\n        selector: 'app-dashboard',\r\n        template: __NG_CLI_RESOURCE__0,\r\n        styles: [__NG_CLI_RESOURCE__1]\r\n    })\r\n], DashboardComponent);\r\nexport { DashboardComponent };\r\n"]},"metadata":{},"sourceType":"module"}